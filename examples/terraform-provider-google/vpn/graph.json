{
    "edges": [
        {
            "edge_type": 1,
            "source": "[root] google_compute_address.vpn_static_ip1",
            "svg_id": "edge_0",
            "target": "[root] provider.google"
        },
        {
            "edge_type": 1,
            "source": "[root] google_compute_address.vpn_static_ip2",
            "svg_id": "edge_1",
            "target": "[root] provider.google"
        },
        {
            "edge_type": 1,
            "source": "[root] google_compute_address.vpn_static_ip2",
            "svg_id": "edge_2",
            "target": "[root] var.region2"
        },
        {
            "edge_type": 1,
            "source": "[root] google_compute_firewall.network1-allow-network1",
            "svg_id": "edge_3",
            "target": "[root] google_compute_network.network1"
        },
        {
            "edge_type": 1,
            "source": "[root] google_compute_firewall.network1-allow-network2",
            "svg_id": "edge_4",
            "target": "[root] google_compute_network.network1"
        },
        {
            "edge_type": 1,
            "source": "[root] google_compute_firewall.network1-allow-network2",
            "svg_id": "edge_5",
            "target": "[root] google_compute_network.network2"
        },
        {
            "edge_type": 1,
            "source": "[root] google_compute_forwarding_rule.fr1_esp",
            "svg_id": "edge_6",
            "target": "[root] google_compute_address.vpn_static_ip1"
        },
        {
            "edge_type": 1,
            "source": "[root] google_compute_forwarding_rule.fr1_esp",
            "svg_id": "edge_7",
            "target": "[root] google_compute_vpn_gateway.target_gateway1"
        },
        {
            "edge_type": 1,
            "source": "[root] google_compute_forwarding_rule.fr1_udp4500",
            "svg_id": "edge_8",
            "target": "[root] google_compute_address.vpn_static_ip1"
        },
        {
            "edge_type": 1,
            "source": "[root] google_compute_forwarding_rule.fr1_udp4500",
            "svg_id": "edge_9",
            "target": "[root] google_compute_vpn_gateway.target_gateway1"
        },
        {
            "edge_type": 1,
            "source": "[root] google_compute_forwarding_rule.fr1_udp500",
            "svg_id": "edge_10",
            "target": "[root] google_compute_address.vpn_static_ip1"
        },
        {
            "edge_type": 1,
            "source": "[root] google_compute_forwarding_rule.fr1_udp500",
            "svg_id": "edge_11",
            "target": "[root] google_compute_vpn_gateway.target_gateway1"
        },
        {
            "edge_type": 1,
            "source": "[root] google_compute_forwarding_rule.fr2_esp",
            "svg_id": "edge_12",
            "target": "[root] google_compute_address.vpn_static_ip2"
        },
        {
            "edge_type": 1,
            "source": "[root] google_compute_forwarding_rule.fr2_esp",
            "svg_id": "edge_13",
            "target": "[root] google_compute_vpn_gateway.target_gateway2"
        },
        {
            "edge_type": 1,
            "source": "[root] google_compute_forwarding_rule.fr2_udp4500",
            "svg_id": "edge_14",
            "target": "[root] google_compute_address.vpn_static_ip2"
        },
        {
            "edge_type": 1,
            "source": "[root] google_compute_forwarding_rule.fr2_udp4500",
            "svg_id": "edge_15",
            "target": "[root] google_compute_vpn_gateway.target_gateway2"
        },
        {
            "edge_type": 1,
            "source": "[root] google_compute_forwarding_rule.fr2_udp500",
            "svg_id": "edge_16",
            "target": "[root] google_compute_address.vpn_static_ip2"
        },
        {
            "edge_type": 1,
            "source": "[root] google_compute_forwarding_rule.fr2_udp500",
            "svg_id": "edge_17",
            "target": "[root] google_compute_vpn_gateway.target_gateway2"
        },
        {
            "edge_type": 1,
            "source": "[root] google_compute_network.network1",
            "svg_id": "edge_18",
            "target": "[root] provider.google"
        },
        {
            "edge_type": 1,
            "source": "[root] google_compute_network.network2",
            "svg_id": "edge_19",
            "target": "[root] provider.google"
        },
        {
            "edge_type": 1,
            "source": "[root] google_compute_route.route1",
            "svg_id": "edge_20",
            "target": "[root] google_compute_network.network2"
        },
        {
            "edge_type": 1,
            "source": "[root] google_compute_route.route1",
            "svg_id": "edge_21",
            "target": "[root] google_compute_vpn_tunnel.tunnel1"
        },
        {
            "edge_type": 1,
            "source": "[root] google_compute_route.route2",
            "svg_id": "edge_22",
            "target": "[root] google_compute_network.network1"
        },
        {
            "edge_type": 1,
            "source": "[root] google_compute_route.route2",
            "svg_id": "edge_23",
            "target": "[root] google_compute_vpn_tunnel.tunnel2"
        },
        {
            "edge_type": 1,
            "source": "[root] google_compute_vpn_gateway.target_gateway1",
            "svg_id": "edge_24",
            "target": "[root] google_compute_network.network1"
        },
        {
            "edge_type": 1,
            "source": "[root] google_compute_vpn_gateway.target_gateway2",
            "svg_id": "edge_25",
            "target": "[root] google_compute_network.network2"
        },
        {
            "edge_type": 1,
            "source": "[root] google_compute_vpn_gateway.target_gateway2",
            "svg_id": "edge_26",
            "target": "[root] var.region2"
        },
        {
            "edge_type": 1,
            "source": "[root] google_compute_vpn_tunnel.tunnel1",
            "svg_id": "edge_27",
            "target": "[root] google_compute_address.vpn_static_ip2"
        },
        {
            "edge_type": 1,
            "source": "[root] google_compute_vpn_tunnel.tunnel1",
            "svg_id": "edge_28",
            "target": "[root] google_compute_forwarding_rule.fr1_esp"
        },
        {
            "edge_type": 1,
            "source": "[root] google_compute_vpn_tunnel.tunnel1",
            "svg_id": "edge_29",
            "target": "[root] google_compute_forwarding_rule.fr1_udp4500"
        },
        {
            "edge_type": 1,
            "source": "[root] google_compute_vpn_tunnel.tunnel1",
            "svg_id": "edge_30",
            "target": "[root] google_compute_forwarding_rule.fr1_udp500"
        },
        {
            "edge_type": 1,
            "source": "[root] google_compute_vpn_tunnel.tunnel2",
            "svg_id": "edge_31",
            "target": "[root] google_compute_address.vpn_static_ip1"
        },
        {
            "edge_type": 1,
            "source": "[root] google_compute_vpn_tunnel.tunnel2",
            "svg_id": "edge_32",
            "target": "[root] google_compute_forwarding_rule.fr2_esp"
        },
        {
            "edge_type": 1,
            "source": "[root] google_compute_vpn_tunnel.tunnel2",
            "svg_id": "edge_33",
            "target": "[root] google_compute_forwarding_rule.fr2_udp4500"
        },
        {
            "edge_type": 1,
            "source": "[root] google_compute_vpn_tunnel.tunnel2",
            "svg_id": "edge_34",
            "target": "[root] google_compute_forwarding_rule.fr2_udp500"
        },
        {
            "edge_type": 1,
            "source": "[root] meta.count-boundary (count boundary fixup)",
            "svg_id": "edge_35",
            "target": "[root] google_compute_firewall.network1-allow-network1"
        },
        {
            "edge_type": 1,
            "source": "[root] meta.count-boundary (count boundary fixup)",
            "svg_id": "edge_36",
            "target": "[root] google_compute_firewall.network1-allow-network2"
        },
        {
            "edge_type": 1,
            "source": "[root] meta.count-boundary (count boundary fixup)",
            "svg_id": "edge_37",
            "target": "[root] google_compute_route.route1"
        },
        {
            "edge_type": 1,
            "source": "[root] meta.count-boundary (count boundary fixup)",
            "svg_id": "edge_38",
            "target": "[root] google_compute_route.route2"
        },
        {
            "edge_type": 1,
            "source": "[root] provider.google (close)",
            "svg_id": "edge_39",
            "target": "[root] google_compute_firewall.network1-allow-network1"
        },
        {
            "edge_type": 1,
            "source": "[root] provider.google (close)",
            "svg_id": "edge_40",
            "target": "[root] google_compute_firewall.network1-allow-network2"
        },
        {
            "edge_type": 1,
            "source": "[root] provider.google (close)",
            "svg_id": "edge_41",
            "target": "[root] google_compute_route.route1"
        },
        {
            "edge_type": 1,
            "source": "[root] provider.google (close)",
            "svg_id": "edge_42",
            "target": "[root] google_compute_route.route2"
        },
        {
            "edge_type": 1,
            "source": "[root] provider.google",
            "svg_id": "edge_43",
            "target": "[root] var.project"
        },
        {
            "edge_type": 2,
            "source": "[root] provider.google",
            "svg_id": "edge_44",
            "target": "[root] var.region1"
        },
        {
            "edge_type": 1,
            "source": "[root] root",
            "svg_id": "edge_45",
            "target": "[root] meta.count-boundary (count boundary fixup)"
        },
        {
            "edge_type": 1,
            "source": "[root] root",
            "svg_id": "edge_46",
            "target": "[root] provider.google (close)"
        },
        {
            "edge_type": 2,
            "source": "[root] var.project",
            "svg_id": "edge_47",
            "target": "[root] var.region1"
        },
        {
            "edge_type": 3,
            "source": "[root] var.project",
            "svg_id": "edge_48",
            "target": "[root] var.region1"
        }
    ],
    "nodes": [
        {
            "cluster": "root",
            "definition": {
                "name": "vpn-static-ip1",
                "region": "${var.region1}"
            },
            "group": 20000,
            "label": "[root] google_compute_address.vpn_static_ip1",
            "module": "root",
            "modules": [
                "root"
            ],
            "resource_name": "vpn_static_ip1",
            "simple_name": "google_compute_address.vpn_static_ip1",
            "svg_id": "node_0",
            "type": "google_compute_address"
        },
        {
            "cluster": "root",
            "definition": {
                "name": "vpn-static-ip2",
                "region": "${var.region2}"
            },
            "group": 20000,
            "label": "[root] google_compute_address.vpn_static_ip2",
            "module": "root",
            "modules": [
                "root"
            ],
            "resource_name": "vpn_static_ip2",
            "simple_name": "google_compute_address.vpn_static_ip2",
            "svg_id": "node_1",
            "type": "google_compute_address"
        },
        {
            "cluster": "root",
            "definition": {
                "allow": [
                    {
                        "protocol": "tcp"
                    },
                    {
                        "protocol": "udp"
                    },
                    {
                        "protocol": "icmp"
                    }
                ],
                "name": "network1-allow-network1",
                "network": "${google_compute_network.network1.name}",
                "source_ranges": [
                    "${google_compute_network.network1.ipv4_range}"
                ]
            },
            "group": 20000,
            "label": "[root] google_compute_firewall.network1-allow-network1",
            "module": "root",
            "modules": [
                "root"
            ],
            "resource_name": "network1-allow-network1",
            "simple_name": "google_compute_firewall.network1-allow-network1",
            "svg_id": "node_2",
            "type": "google_compute_firewall"
        },
        {
            "cluster": "root",
            "definition": {
                "allow": [
                    {
                        "protocol": "tcp"
                    },
                    {
                        "protocol": "udp"
                    },
                    {
                        "protocol": "icmp"
                    }
                ],
                "name": "network1-allow-network2",
                "network": "${google_compute_network.network1.name}",
                "source_ranges": [
                    "${google_compute_network.network2.ipv4_range}"
                ]
            },
            "group": 20000,
            "label": "[root] google_compute_firewall.network1-allow-network2",
            "module": "root",
            "modules": [
                "root"
            ],
            "resource_name": "network1-allow-network2",
            "simple_name": "google_compute_firewall.network1-allow-network2",
            "svg_id": "node_3",
            "type": "google_compute_firewall"
        },
        {
            "cluster": "root",
            "definition": {
                "ip_address": "${google_compute_address.vpn_static_ip1.address}",
                "ip_protocol": "ESP",
                "name": "fr1-esp",
                "region": "${var.region1}",
                "target": "${google_compute_vpn_gateway.target_gateway1.self_link}"
            },
            "group": 20000,
            "label": "[root] google_compute_forwarding_rule.fr1_esp",
            "module": "root",
            "modules": [
                "root"
            ],
            "resource_name": "fr1_esp",
            "simple_name": "google_compute_forwarding_rule.fr1_esp",
            "svg_id": "node_4",
            "type": "google_compute_forwarding_rule"
        },
        {
            "cluster": "root",
            "definition": {
                "ip_address": "${google_compute_address.vpn_static_ip1.address}",
                "ip_protocol": "UDP",
                "name": "fr1-udp4500",
                "port_range": "4500",
                "region": "${var.region1}",
                "target": "${google_compute_vpn_gateway.target_gateway1.self_link}"
            },
            "group": 20000,
            "label": "[root] google_compute_forwarding_rule.fr1_udp4500",
            "module": "root",
            "modules": [
                "root"
            ],
            "resource_name": "fr1_udp4500",
            "simple_name": "google_compute_forwarding_rule.fr1_udp4500",
            "svg_id": "node_5",
            "type": "google_compute_forwarding_rule"
        },
        {
            "cluster": "root",
            "definition": {
                "ip_address": "${google_compute_address.vpn_static_ip1.address}",
                "ip_protocol": "UDP",
                "name": "fr1-udp500",
                "port_range": "500",
                "region": "${var.region1}",
                "target": "${google_compute_vpn_gateway.target_gateway1.self_link}"
            },
            "group": 20000,
            "label": "[root] google_compute_forwarding_rule.fr1_udp500",
            "module": "root",
            "modules": [
                "root"
            ],
            "resource_name": "fr1_udp500",
            "simple_name": "google_compute_forwarding_rule.fr1_udp500",
            "svg_id": "node_6",
            "type": "google_compute_forwarding_rule"
        },
        {
            "cluster": "root",
            "definition": {
                "ip_address": "${google_compute_address.vpn_static_ip2.address}",
                "ip_protocol": "ESP",
                "name": "fr2-esp",
                "region": "${var.region2}",
                "target": "${google_compute_vpn_gateway.target_gateway2.self_link}"
            },
            "group": 20000,
            "label": "[root] google_compute_forwarding_rule.fr2_esp",
            "module": "root",
            "modules": [
                "root"
            ],
            "resource_name": "fr2_esp",
            "simple_name": "google_compute_forwarding_rule.fr2_esp",
            "svg_id": "node_7",
            "type": "google_compute_forwarding_rule"
        },
        {
            "cluster": "root",
            "definition": {
                "ip_address": "${google_compute_address.vpn_static_ip2.address}",
                "ip_protocol": "UDP",
                "name": "fr2-udp4500",
                "port_range": "4500",
                "region": "${var.region2}",
                "target": "${google_compute_vpn_gateway.target_gateway2.self_link}"
            },
            "group": 20000,
            "label": "[root] google_compute_forwarding_rule.fr2_udp4500",
            "module": "root",
            "modules": [
                "root"
            ],
            "resource_name": "fr2_udp4500",
            "simple_name": "google_compute_forwarding_rule.fr2_udp4500",
            "svg_id": "node_8",
            "type": "google_compute_forwarding_rule"
        },
        {
            "cluster": "root",
            "definition": {
                "ip_address": "${google_compute_address.vpn_static_ip2.address}",
                "ip_protocol": "UDP",
                "name": "fr2-udp500",
                "port_range": "500",
                "region": "${var.region2}",
                "target": "${google_compute_vpn_gateway.target_gateway2.self_link}"
            },
            "group": 20000,
            "label": "[root] google_compute_forwarding_rule.fr2_udp500",
            "module": "root",
            "modules": [
                "root"
            ],
            "resource_name": "fr2_udp500",
            "simple_name": "google_compute_forwarding_rule.fr2_udp500",
            "svg_id": "node_9",
            "type": "google_compute_forwarding_rule"
        },
        {
            "cluster": "root",
            "definition": {
                "ipv4_range": "10.120.0.0/16",
                "name": "network1"
            },
            "group": 20000,
            "label": "[root] google_compute_network.network1",
            "module": "root",
            "modules": [
                "root"
            ],
            "resource_name": "network1",
            "simple_name": "google_compute_network.network1",
            "svg_id": "node_10",
            "type": "google_compute_network"
        },
        {
            "cluster": "root",
            "definition": {
                "ipv4_range": "10.121.0.0/16",
                "name": "network2"
            },
            "group": 20000,
            "label": "[root] google_compute_network.network2",
            "module": "root",
            "modules": [
                "root"
            ],
            "resource_name": "network2",
            "simple_name": "google_compute_network.network2",
            "svg_id": "node_11",
            "type": "google_compute_network"
        },
        {
            "cluster": "root",
            "definition": {
                "dest_range": "${google_compute_network.network2.ipv4_range}",
                "name": "route1",
                "network": "${google_compute_network.network1.name}",
                "next_hop_vpn_tunnel": "${google_compute_vpn_tunnel.tunnel1.self_link}",
                "priority": 1000
            },
            "group": 20000,
            "label": "[root] google_compute_route.route1",
            "module": "root",
            "modules": [
                "root"
            ],
            "resource_name": "route1",
            "simple_name": "google_compute_route.route1",
            "svg_id": "node_12",
            "type": "google_compute_route"
        },
        {
            "cluster": "root",
            "definition": {
                "dest_range": "${google_compute_network.network1.ipv4_range}",
                "name": "route2",
                "network": "${google_compute_network.network2.name}",
                "next_hop_vpn_tunnel": "${google_compute_vpn_tunnel.tunnel2.self_link}",
                "priority": 1000
            },
            "group": 20000,
            "label": "[root] google_compute_route.route2",
            "module": "root",
            "modules": [
                "root"
            ],
            "resource_name": "route2",
            "simple_name": "google_compute_route.route2",
            "svg_id": "node_13",
            "type": "google_compute_route"
        },
        {
            "cluster": "root",
            "definition": {
                "name": "vpn1",
                "network": "${google_compute_network.network1.self_link}",
                "region": "${var.region1}"
            },
            "group": 20000,
            "label": "[root] google_compute_vpn_gateway.target_gateway1",
            "module": "root",
            "modules": [
                "root"
            ],
            "resource_name": "target_gateway1",
            "simple_name": "google_compute_vpn_gateway.target_gateway1",
            "svg_id": "node_14",
            "type": "google_compute_vpn_gateway"
        },
        {
            "cluster": "root",
            "definition": {
                "name": "vpn2",
                "network": "${google_compute_network.network2.self_link}",
                "region": "${var.region2}"
            },
            "group": 20000,
            "label": "[root] google_compute_vpn_gateway.target_gateway2",
            "module": "root",
            "modules": [
                "root"
            ],
            "resource_name": "target_gateway2",
            "simple_name": "google_compute_vpn_gateway.target_gateway2",
            "svg_id": "node_15",
            "type": "google_compute_vpn_gateway"
        },
        {
            "cluster": "root",
            "definition": {
                "depends_on": [
                    "google_compute_forwarding_rule.fr1_udp500",
                    "google_compute_forwarding_rule.fr1_udp4500",
                    "google_compute_forwarding_rule.fr1_esp"
                ],
                "name": "tunnel1",
                "peer_ip": "${google_compute_address.vpn_static_ip2.address}",
                "region": "${var.region1}",
                "shared_secret": "a secret message",
                "target_vpn_gateway": "${google_compute_vpn_gateway.target_gateway1.self_link}"
            },
            "group": 20000,
            "label": "[root] google_compute_vpn_tunnel.tunnel1",
            "module": "root",
            "modules": [
                "root"
            ],
            "resource_name": "tunnel1",
            "simple_name": "google_compute_vpn_tunnel.tunnel1",
            "svg_id": "node_16",
            "type": "google_compute_vpn_tunnel"
        },
        {
            "cluster": "root",
            "definition": {
                "depends_on": [
                    "google_compute_forwarding_rule.fr2_udp500",
                    "google_compute_forwarding_rule.fr2_udp4500",
                    "google_compute_forwarding_rule.fr2_esp"
                ],
                "name": "tunnel2",
                "peer_ip": "${google_compute_address.vpn_static_ip1.address}",
                "region": "${var.region2}",
                "shared_secret": "a secret message",
                "target_vpn_gateway": "${google_compute_vpn_gateway.target_gateway2.self_link}"
            },
            "group": 20000,
            "label": "[root] google_compute_vpn_tunnel.tunnel2",
            "module": "root",
            "modules": [
                "root"
            ],
            "resource_name": "tunnel2",
            "simple_name": "google_compute_vpn_tunnel.tunnel2",
            "svg_id": "node_17",
            "type": "google_compute_vpn_tunnel"
        },
        {
            "cluster": "root",
            "definition": {
                "account_file": "${file(\"~/gce/account.json\")}",
                "project": "${var.project}",
                "region": "${var.region1}"
            },
            "group": 20000,
            "label": "[root] provider.google",
            "module": "root",
            "modules": [
                "root"
            ],
            "resource_name": "google",
            "simple_name": "provider.google",
            "svg_id": "node_18",
            "type": "provider"
        },
        {
            "cluster": "root",
            "definition": {
                "description": "The desired region for the second network & VPN"
            },
            "group": 20000,
            "label": "[root] var.region2",
            "module": "root",
            "modules": [
                "root"
            ],
            "resource_name": "region2",
            "simple_name": "var.region2",
            "svg_id": "node_19",
            "type": "var"
        },
        {
            "cluster": "root",
            "definition": "",
            "group": 20000,
            "label": "[root] meta.count-boundary (count boundary fixup)",
            "module": "root",
            "modules": [
                "root"
            ],
            "resource_name": "count-boundary",
            "simple_name": "meta.count-boundary (count boundary fixup)",
            "svg_id": "node_20",
            "type": "meta"
        },
        {
            "cluster": "root",
            "definition": {
                "account_file": "${file(\"~/gce/account.json\")}",
                "project": "${var.project}",
                "region": "${var.region1}"
            },
            "group": 20000,
            "label": "[root] provider.google (close)",
            "module": "root",
            "modules": [
                "root"
            ],
            "resource_name": "google",
            "simple_name": "provider.google (close)",
            "svg_id": "node_21",
            "type": "provider"
        },
        {
            "cluster": "cluster[root] provider.google_var_",
            "definition": {
                "description": "Your project name"
            },
            "group": 20000,
            "label": "[root] var.project",
            "module": "root",
            "modules": [
                "root"
            ],
            "resource_name": "project",
            "simple_name": "var.project",
            "svg_id": "node_22",
            "type": "var"
        },
        {
            "cluster": "cluster[root] provider.google_var_",
            "definition": {
                "description": "The desired region for the first network & VPN and project"
            },
            "group": 20000,
            "label": "[root] var.region1",
            "module": "root",
            "modules": [
                "root"
            ],
            "resource_name": "region1",
            "simple_name": "var.region1",
            "svg_id": "node_23",
            "type": "var"
        },
        {
            "cluster": "root",
            "definition": "",
            "group": 20000,
            "label": "[root] root",
            "module": "root",
            "modules": [
                "root"
            ],
            "resource_name": "",
            "simple_name": "root",
            "svg_id": "node_24",
            "type": ""
        }
    ]
}
